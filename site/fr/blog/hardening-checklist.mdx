<header class="post-header">
  <div class="post-meta">
    26 Janvier 2026 &bull; <span>5 min de lecture</span>
  </div>
  <h1>Checklist de Durcissement pour AKIOS 1.0</h1>
</header>

<div class="post-content">

AKIOS est minimal par conception, mais vous avez quand mÃªme besoin de quelques garde-fous pour garder les agents contenus en environnement rÃ©el. Utilisez cette checklist avant de mettre en production.

## Pourquoi le Durcissement est Important

AKIOS fournit une isolation au niveau kernel dÃ¨s l'installation. Mais le runtime n'est qu'une couche. L'hÃ´te, le pipeline CI/CD, le processus de gestion des politiques et le stockage d'audit doivent aussi Ãªtre durcis. Une Cage de SÃ©curitÃ© n'est aussi solide que la couche la plus faible de la pile.

Cette checklist couvre les cinq domaines de durcissement :

```mermaid
graph TB
    subgraph PILE["Pile de Durcissement"]
        HOTE["1. Durcissement HÃ´te\nKernel, capabilities, montages"]
        POLITIQUE["2. Discipline des Politiques\nSignature, deny-default, budget"]
        AUDIT["3. Audit + ObservabilitÃ©\nSinks immuables, alertes"]
        DCP["4. DCP & Secrets\nAnonymisation, coffre-fort, env"]
        CICD["5. SÃ©curitÃ© CI/CD\nDry-run, namespace, hash gates"]
    end

    HOTE --> POLITIQUE --> AUDIT --> DCP --> CICD
```

## La Checklist

<table>
  <thead>
    <tr><th>Domaine</th><th>VÃ©rification</th><th>Commande / Action</th><th>PrioritÃ©</th></tr>
  </thead>
  <tbody>
    <tr>
      <td rowspan="3"><strong>HÃ´te</strong></td>
      <td>Kernel Linux rÃ©cent avec <code>seccomp</code>, <code>userns</code>, <code>cgroups v2</code></td>
      <td><code>uname -r</code> â†’ 5.15+</td>
      <td>ğŸ”´ Critique</td>
    </tr>
    <tr>
      <td>Supprimer les capabilities inutiles (<code>NET_ADMIN</code>, <code>SYS_ADMIN</code>)</td>
      <td><code>capsh --print</code></td>
      <td>ğŸ”´ Critique</td>
    </tr>
    <tr>
      <td>Monter <code>/tmp</code> en <code>noexec</code></td>
      <td><code>mount -o remount,noexec /tmp</code></td>
      <td>ğŸŸ¡ RecommandÃ©</td>
    </tr>
    <tr>
      <td rowspan="3"><strong>Politique</strong></td>
      <td>Signer les politiques ; charger uniquement des artefacts signÃ©s en CI/CD</td>
      <td><code>akios policy sign policy.yml</code></td>
      <td>ğŸ”´ Critique</td>
    </tr>
    <tr>
      <td>Default-deny rÃ©seau et filesystem ; liste blanche stricte</td>
      <td>VÃ©rifier <code>network: isolated</code></td>
      <td>ğŸ”´ Critique</td>
    </tr>
    <tr>
      <td>Budgets serrÃ©s par outil ; Ã©chec fermÃ© sur dÃ©passement</td>
      <td><code>budget.max_cost_per_run: 0.50</code></td>
      <td>ğŸŸ¡ RecommandÃ©</td>
    </tr>
    <tr>
      <td rowspan="3"><strong>Audit</strong></td>
      <td>Envoyer les logs d'audit vers un sink immuable (bucket append-only)</td>
      <td><code>akios audit export --format jsonl</code></td>
      <td>ğŸ”´ Critique</td>
    </tr>
    <tr>
      <td>Activer l'export de preuves Merkle ; valider en tests CI</td>
      <td><code>akios audit verify</code></td>
      <td>ğŸ”´ Critique</td>
    </tr>
    <tr>
      <td>Alerter sur escapes sandbox, refus de politique, activations coupe-circuit</td>
      <td>Configurer les alertes dans le stack de monitoring</td>
      <td>ğŸŸ¡ RecommandÃ©</td>
    </tr>
    <tr>
      <td rowspan="2"><strong>DCP</strong></td>
      <td>Garder l'anonymisation DCP activÃ©e pour tous les agents</td>
      <td><code>pii_redaction: { enabled: true, mode: aggressive }</code></td>
      <td>ğŸ”´ Critique</td>
    </tr>
    <tr>
      <td>Stocker les secrets dans un coffre-fort ; injecter via env avec moindre privilÃ¨ge</td>
      <td>Jamais de secrets dans les prompts ou fichiers de politique</td>
      <td>ğŸ”´ Critique</td>
    </tr>
    <tr>
      <td rowspan="3"><strong>CI/CD</strong></td>
      <td>Conditionner les PRs Ã  <code>akios run --dry-run</code></td>
      <td>Ajouter au pipeline CI avant le merge</td>
      <td>ğŸŸ¡ RecommandÃ©</td>
    </tr>
    <tr>
      <td>ExÃ©cuter les workflows dans un namespace/VM Ã©phÃ©mÃ¨re par PR</td>
      <td>Runners Ã©phÃ©mÃ¨res en CI</td>
      <td>ğŸŸ¡ RecommandÃ©</td>
    </tr>
    <tr>
      <td>Bloquer les merges si la sortie d'audit dÃ©vie de la chaÃ®ne de hash attendue</td>
      <td><code>akios audit verify --expected-hash $HASH</code></td>
      <td>ğŸŸ¡ RecommandÃ©</td>
    </tr>
  </tbody>
</table>

## Exemple : Politique Durcie

Voici une politique de production avec tout le durcissement appliquÃ© :

```yaml
# production-durcie.yml
version: 1
name: "production-durcie"

security:
  sandbox: strict
  network: isolated
  allowed_endpoints: []  # default-deny

filesystem:
  allow:
    - path: "/workspace/input"
      mode: "r"
    - path: "/workspace/output"
      mode: "w"
  deny_writes: true

http:
  allow: []  # aucun accÃ¨s HTTP
  redact_headers: ["authorization", "cookie", "x-api-key"]

llm:
  provider: "openai"
  model: "gpt-4.1"
  max_tokens: 500
  budget_usd: 0.50
  redact_prompts: true
  redact_responses: true

tools:
  allow:
    - name: "jq"
    - name: "grep"
  timeout_sec: 20

audit:
  merkle: true
  pii_redaction: true
  export_format: jsonl
  retention_days: 2555  # 7 ans

pii_redaction:
  enabled: true
  mode: aggressive
  patterns: [nir, siret, carte_bancaire, iban, email, telephone, cle_api]
```

## VÃ©rifier votre Durcissement

```bash
# VÃ©rifier la disponibilitÃ© systÃ¨me
akios doctor

# Valider la politique avant dÃ©ploiement
akios run --dry-run templates/mon-workflow.yml

# VÃ©rifier l'intÃ©gritÃ© de la chaÃ®ne d'audit
akios audit verify

# GÃ©nÃ©rer un rapport de conformitÃ©
akios compliance report --format detailed
```

## Erreurs Courantes

1. **ExÃ©cuter avec `--no-sandbox`** â€” Ne jamais dÃ©sactiver le sandbox en production. Utilisez `--dry-run` pour le debugging.
2. **Autoriser `*` dans les politiques rÃ©seau** â€” Cela annule l'objectif. Listez les hÃ´tes spÃ©cifiques.
3. **Stocker les clÃ©s API dans les fichiers de politique** â€” Utilisez des variables d'environnement ou un coffre-fort.
4. **Ignorer les cassures de chaÃ®ne d'audit** â€” Une chaÃ®ne cassÃ©e signifie une altÃ©ration. Investiguer immÃ©diatement.
5. **Mettre le budget en illimitÃ©** â€” Toujours dÃ©finir un budget. Le coupe-circuit est votre derniÃ¨re ligne de dÃ©fense.

## Essayez-le Vous-mÃªme

```bash
pip install akios
akios doctor
akios run --dry-run templates/hello-workflow.yml
```

DÃ©ployez avec ces fondamentaux et votre sÃ©curitÃ© restera solide pendant que vous itÃ©rez.

SÃ©curisez votre IA. Construisez avec AKIOS.

</div>

<div class="post-footer">
  <p>Connexe : <a href="release-notes-v0-1-0.html">Notes de Version AKIOS v1.0</a> | <a href="policy-schema-deep-dive.html">PlongÃ©e dans le SchÃ©ma de Politique</a></p>
  <div class="share-links">
    <span>Partager :</span>
    <a href="#" target="_blank">Twitter</a>
    <a href="#" target="_blank">LinkedIn</a>
    <a href="#" target="_blank">Hacker News</a>
  </div>
  <a href="./">â† Retour au Blog</a>
</div>
