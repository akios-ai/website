<header class="post-header">
  <div class="post-meta">22 janvier 2026</div>
  <h1>Plongée dans le schéma de politique (v1)</h1>
  <div class="post-author">
    <img src="https://github.com/aj14pm.png" alt="Author" class="avatar">
    <span>AJ</span>
  </div>
</header>

<div class="post-content">
  <p class="lead">
    Le schéma v1 est volontairement compact. Voici les blocs clés avec des exemples prêts à copier.
  </p>

  <h2>Filesystem</h2>
  <pre><code>filesystem:
  allow:
    - path: "/srv/akios/readme.md"
      mode: "r"
  deny_writes: true</code></pre>

  <h2>HTTP</h2>
  <pre><code>http:
  allow:
    - host: "api.example.com"
      methods: ["GET"]
      rate_limit_per_min: 30
  redact_headers: ["authorization", "cookie"]</code></pre>

  <h2>LLM</h2>
  <pre><code>llm:
  provider: "openai"
  model: "gpt-4.1"
  max_tokens: 1200
  budget_usd: 0.25
  redact_prompts: true
  redact_responses: true</code></pre>

  <h2>Outils (commandes)</h2>
  <pre><code>tools:
  allow:
    - name: "jq"
      args: ["." ]
    - name: "grep"
      args: ["-n", "ERROR"]
  working_dir: "/workspace"
  timeout_sec: 20</code></pre>

  <h2>Ensemble complet</h2>
  <pre><code>version: 1
name: "doc-summary"
filesystem:
  allow:
    - path: "/workspace/docs"
      mode: "r"
http:
  allow:
    - host: "docs.example.com"
      methods: ["GET"]
llm:
  provider: "openai"
  model: "gpt-4.1"
  max_tokens: 1500
  budget_usd: 0.30
tools:
  allow:
    - name: "jq"
    - name: "grep"
audit:
  merkle: true
  pii_redaction: true</code></pre>

  <p>Gardez des politiques courtes, explicites et signées. C’est ainsi que la cage reste prévisible.</p>
</div>
